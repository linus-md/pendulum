vars := [x1, y1, u1, v1, x2, y2, u2, v2, x3, y3, u3, v3];

p := [
    u1, 
    v1, 
    - x1 - 1*(x1 - x2), 
    - y1 - 1*(y1 - y2) - 1, 
    u2, 
    v2, 
    - (x2 - x1) - (x2 - x3), 
    - (y2 - y1) - (y2 - y3) - 1, 
    u3, 
    v3, 
    - (x3 - x2), 
    - (y3 - y2) - 1
];

q  := [
    x1^2 + y1^2 - 1, 
    (x2 - x1)^2 + (y2 - y1)^2 - 1, 
    (x3 - x2)^2 + (y3 - y2)^2 - 1
];